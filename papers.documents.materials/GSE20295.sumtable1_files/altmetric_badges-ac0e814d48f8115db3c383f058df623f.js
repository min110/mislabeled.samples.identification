(function(){window._altmetric||(window._altmetric={}),window._altmetric["export"]=function(e,t){return window._altmetric[e]=t},window._altmetric.exports=function(e){var t,n,i;n=[];for(t in e)i=e[t],n.push(window._altmetric[t]=i);return n}}).call(this),function(){var e;e=function(e){var t,n;return t=document.createElement("div"),n=document.createTextNode(e),t.appendChild(n),t.innerHTML},_altmetric.exports({encodeHTML:e})}.call(this);var Handlebars={};!function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,o){if(n.call(t)===r){if(o||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else o&&(i.not=o),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var o=r.inverse||function(){},a=r.fn,l=n.call(t);return l===i&&(t=t.call(this)),t===!0?a(this):t===!1||null==t?o(this):"[object Array]"===l?t.length>0?e.helpers.each(t,r):o(this):a(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,r){var o,a=r.fn,l=r.inverse,s=0,c="",u=n.call(t);if(u===i&&(t=t.call(this)),r.data&&(o=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var h=t.length;h>s;s++)o&&(o.index=s),c+=a(t[s],{data:o});else for(var d in t)t.hasOwnProperty(d)&&(o&&(o.key=d),c+=a(t[d],{data:o}),s++);return 0===s&&(c=l(this)),c}),e.registerHelper("if",function(t,r){var o=n.call(t);return o===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,r){var o=n.call(t);return o===i&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:r.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var o=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<o.length;t++)this[o[t]]=e[o[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,s=/[&<>"'`]/,c=function(e){return a[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),s.test(t)?t.replace(l,c):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},merge:function(t,n){var i=t||n;return t&&n&&(i={},e.Utils.extend(i,n),e.Utils.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var o=t.call(n,e,i,r.helpers,r.partials,r.data),a=n.compilerInfo||[],l=a[0]||1,s=e.COMPILER_REVISION;if(l!==s){if(s>l){var c=e.REVISION_CHANGES[s],u=e.REVISION_CHANGES[l];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+")."}return o}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,o,a,l){var s={helpers:o,partials:a,data:l};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,s);if(e.compile)return a[i]=e.compile(n,{data:l!==t}),a[i](r,s);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}("qwery",_altmetric,function(){function e(){this.c={}}function t(e){return K.g(e)||K.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n])}function i(e){for(var t=[],n=0,i=e.length;i>n;++n)g(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function r(e){for(var t=0,n=e.length,i=[];n>t;t++)i[t]=e[t];return i}function o(e){for(;(e=e.previousSibling)&&1!=e[P];);return e}function a(e){return e.match(j)}function l(e,n,i,r,o,a,l,s,u,h,d){var p,f,g,m,y;if(1!==this[P])return!1;if(n&&"*"!==n&&this[S]&&this[S].toLowerCase()!==n)return!1;if(i&&(f=i.match(N))&&f[1]!==this.id)return!1;if(i&&(y=i.match(H)))for(p=y.length;p--;)if(!t(y[p].slice(1)).test(this.className))return!1;if(u&&b.pseudos[u]&&!b.pseudos[u](this,d))return!1;if(r&&!l){m=this.attributes;for(g in m)if(Object.prototype.hasOwnProperty.call(m,g)&&(m[g].name||g)==o)return this}return r&&!c(a,J(this,o)||"",l)?!1:this}function s(e){return X.g(e)||X.s(e,e.replace($,"\\$1"))}function c(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(Y.g("^="+n)||Y.s("^="+n,"^"+s(n),1));case"$=":return t.match(Y.g("$="+n)||Y.s("$="+n,s(n)+"$",1));case"*=":return t.match(Y.g(n)||Y.s(n,s(n),1));case"~=":return t.match(Y.g("~="+n)||Y.s("~="+n,"(?:^|\\s+)"+s(n)+"(?:\\s+|$)",1));case"|=":return t.match(Y.g("|="+n)||Y.s("|="+n,"^"+s(n)+"(-|$)",1))}return 0}function u(e,t){var i,r,o,s,c,u,h,p=[],f=[],g=t,m=Q.g(e)||Q.s(e,e.split(q)),b=e.match(V);if(!m.length)return p;if(s=(m=m.slice(0)).pop(),m.length&&(o=m[m.length-1].match(I))&&(g=y(t,o[1])),!g)return p;for(u=a(s),c=g!==t&&9!==g[P]&&b&&/^[+~]$/.test(b[b.length-1])?function(e){for(;g=g.nextSibling;)1==g[P]&&(u[1]?u[1]==g[S].toLowerCase():1)&&(e[e.length]=g);return e}([]):g[T](u[1]||"*"),i=0,r=c.length;r>i;i++)(h=l.apply(c[i],u))&&(p[p.length]=h);return m.length?(n(p,function(e){d(e,m,b)&&(f[f.length]=e)}),f):p}function h(e,t,n){if(p(t))return e==t;if(g(t))return!!~i(t).indexOf(e);for(var r,o,s=t.split(",");t=s.pop();)if(r=Q.g(t)||Q.s(t,t.split(q)),o=t.match(V),r=r.slice(0),l.apply(e,a(r.pop()))&&(!r.length||d(e,r,o,n)))return!0;return!1}function d(e,t,n,i){function r(e,i,s){for(;s=G[n[i]](s,e);)if(p(s)&&l.apply(s,a(t[i]))){if(!i)return s;if(o=r(s,i-1,s))return o}}var o;return(o=r(e,t.length-1,e))&&(!i||Z(o,i))}function p(e,t){return e&&"object"==typeof e&&(t=e[P])&&(1==t||9==t)}function f(e){var t,n,i=[];e:for(t=0;t<e.length;++t){for(n=0;n<i.length;++n)if(i[n]==e[t])continue e;i[i.length]=e[t]}return i}function g(e){return"object"==typeof e&&isFinite(e.length)}function m(e){return e?"string"==typeof e?b(e)[0]:!e[P]&&g(e)?e[0]:e:w}function y(e,t,n){return 9===e[P]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&Z(n,e)&&n||!Z(e,e.ownerDocument)&&v('[id="'+t+'"]',e)[0])}function b(e,t){var n,o,a=m(t);if(!a||!e)return[];if(e===window||p(e))return!t||e!==window&&p(a)&&Z(e,a)?[e]:[];if(e&&g(e))return i(e);if(n=e.match(W)){if(n[1])return(o=y(a,n[1]))?[o]:[];if(n[2])return r(a[T](n[2]))}return v(e,a)}function _(e,t){return function(n){var i,r;return O.test(n)?void(9!==e[P]&&((r=i=e.getAttribute("id"))||e.setAttribute("id",r="__qwerymeupscotty"),n='[id="'+r+'"]'+n,t(e.parentNode||e,n,!0),i||e.removeAttribute("id"))):void(n.length&&t(e,n,!1))}}var v,w=document,k=w.documentElement,x="getElementsByClassName",T="getElementsByTagName",E="querySelectorAll",C="useNativeQSA",S="tagName",P="nodeType",N=/#([\w\-]+)/,H=/\.[\w\-]+/g,I=/^#([\w\-]+)$/,A=/^\.([\w\-]+)$/,L=/^([\w\-]+)$/,D=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,B=/^\s+|\s*([,\s\+\~>]|$)\s*/g,M=/[\s\>\+\~]/,R=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,$=/([.*+?\^=!:${}()|\[\]\/\\])/g,U=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,F=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,z=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,W=new RegExp(I.source+"|"+L.source+"|"+A.source),V=new RegExp("("+M.source+")"+R.source,"g"),q=new RegExp(M.source+R.source),j=new RegExp(U.source+"("+F.source+")?("+z.source+")?"),G={" ":function(e){return e&&e!==k&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,i){return e?(n=o(e))&&(i=o(t))&&n==i&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var K=new e,X=new e,Y=new e,Q=new e,Z="compareDocumentPosition"in k?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in k?function(e,t){return t=9===t[P]||t==window?k:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},J=function(){var e=w.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=(!!w[x],w.querySelector&&w[E]),tt=function(e,t){var i,o,a=[];try{return 9!==t[P]&&O.test(e)?(n(i=e.split(","),_(t,function(e,t){o=e[E](t),1==o.length?a[a.length]=o.item(0):o.length&&(a=a.concat(r(o)))})),i.length>1&&a.length>1?f(a):a):r(t[E](e))}catch(l){}return nt(e,t)},nt=function(e,i){var r,o,a,l,s,c,h=[];if(e=e.replace(B,"$1"),o=e.match(D)){for(s=t(o[2]),r=i[T](o[1]||"*"),a=0,l=r.length;l>a;a++)s.test(r[a].className)&&(h[h.length]=r[a]);return h}return n(c=e.split(","),_(i,function(e,t,n){for(s=u(t,e),a=0,l=s.length;l>a;a++)(9===e[P]||n||Z(s[a],i))&&(h[h.length]=s[a])})),c.length>1&&h.length>1?f(h):h},it=function(e){"undefined"!=typeof e[C]&&(v=e[C]&&et?tt:nt)};return it({useNativeQSA:!0}),b.configure=it,b.uniq=f,b.is=h,b.pseudos={},b}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}("bean",_altmetric,function(e,t){e=e||"bean",t=t||this;var n,i=window,r=t[e],o=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,l="addEventListener",s="removeEventListener",c=document||{},u=c.documentElement||{},h=u[l],d=h?l:"attachEvent",p={},f=Array.prototype.slice,g=function(e,t){return e.split(t||" ")},m=function(e){return"string"==typeof e},y=function(e){return"function"==typeof e},b="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",_="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",v=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},g(b+(h?_:""))),w=function(){var e="compareDocumentPosition"in u?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in u?function(e,t){return t=9===t.nodeType||t===window?u:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),k=function(){var e=g("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(g("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(g("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),r=e.concat(g("char charCode key keyCode keyIdentifier keyLocation location")),o=e.concat(g("data")),a=e.concat(g("touches targetTouches changedTouches scale rotation")),l=e.concat(g("data origin source")),s=e.concat(g("state")),h=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,r}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,i){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+c.body.scrollLeft+u.scrollLeft,n.clientY=e.clientY+c.body.scrollTop+u.scrollTop),h.test(i)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return o}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return l}},{reg:/^popstate$/i,fix:function(){return s}},{reg:/.*/,fix:function(){return e}}],p={},f=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||i).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var r,o,a,l,s,c=e.type,u=e.target||e.srcElement;if(this.target=u&&3===u.nodeType?u.parentNode:u,n){if(s=p[c],!s)for(r=0,o=d.length;o>r;r++)if(d[r].reg.test(c)){p[c]=s=d[r].fix;break}for(l=s(e,this,c),r=l.length;r--;)!((a=l[r])in this)&&a in e&&(this[a]=e[a])}}};return f.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},f.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},f.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},f.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},f.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},f.prototype.clone=function(e){var t=new f(this,this.element,this.isNative);return t.currentTarget=e,t},f}(),x=function(e,t){return h||t||e!==c&&e!==i?e:u},T=function(){var e=function(e,t,n,i){var r=function(n,r){return t.apply(e,i?f.call(r,n?0:1).concat(i):r)},o=function(n,i){return t.__beanDel?t.__beanDel.ft(n.target,e):i},a=n?function(e){var t=o(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),r(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(o(e))),r(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,i,r,o,a,l){var s,c=w[n];"unload"==n&&(i=N(H,t,n,i,r)),c&&(c.condition&&(i=e(t,i,c.condition,a)),n=c.base||n),this.isNative=s=v[n]&&!!t[d],this.customType=!h&&!s&&n,this.element=t,this.type=n,this.original=r,this.namespaces=o,this.eventType=h||s?n:"propertychange",this.target=x(t,s),this[d]=!!this.target[d],this.root=l,this.handler=e(t,i,null,a)};return t.prototype.inNamespaces=function(e){var t,n,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&i++;return e.length===i},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),E=function(){var e={},t=function(n,i,r,o,a,l){var s=a?"r":"$";if(i&&"*"!=i){var c,u=0,h=e[s+i],d="*"==n;if(!h)return;for(c=h.length;c>u;u++)if((d||h[u].matches(n,r,o))&&!l(h[u],h,u,i))return}else for(var p in e)p.charAt(0)==s&&t(n,p.substr(1),r,o,a,l)},n=function(t,n,i,r){var o,a=e[(r?"r":"$")+n];if(a)for(o=a.length;o--;)if(!a[o].root&&a[o].matches(t,i,null))return!0;return!1},i=function(e,n,i,r){var o=[];return t(e,n,i,null,r,function(e){return o.push(e)}),o},r=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(e[i]||(e[i]=[])).push(t),n},o=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,i){return n.splice(i,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:i,put:r,del:o,entries:a}}(),C=function(e){n=arguments.length?e:c.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},S=function(e,t){if(h||!t||!e||e.propertyName=="_on"+t){var n=E.get(this,t||e.type,null,!1),i=n.length,r=0;for(e=new k(e,this,!0),t&&(e.type=t);i>r&&!e.isImmediatePropagationStopped();r++)n[r].removed||n[r].handler.call(this,e)}},P=h?function(e,t,n){e[n?l:s](t,S,!1)}:function(e,t,n,i){var r;n?(E.put(r=new T(e,i||t,function(t){S.call(e,t,i)},S,null,null,!0)),i&&null==e["_on"+i]&&(e["_on"+i]=0),r.target.attachEvent("on"+r.eventType,r.handler)):(r=E.get(e,i||t,S,!0)[0],r&&(r.target.detachEvent("on"+r.eventType,r.handler),E.del(r)))},N=function(e,t,n,i,r){return function(){i.apply(this,arguments),e(t,n,r)}},H=function(e,t,n,i){var r,o,l=t&&t.replace(a,""),s=E.get(e,l,null,!1),c={};for(r=0,o=s.length;o>r;r++)n&&s[r].original!==n||!s[r].inNamespaces(i)||(E.del(s[r]),!c[s[r].eventType]&&s[r][d]&&(c[s[r].eventType]={t:s[r].eventType,c:s[r].type}));for(r in c)E.has(e,c[r].t,null,!1)||P(e,c[r].t,!1,c[r].c)},I=function(e,t){var i=function(t,i){for(var r,o=m(e)?n(e,i):e;t&&t!==i;t=t.parentNode)for(r=o.length;r--;)if(o[r]===t)return t},r=function(e){var n=i(e.target,this);n&&t.apply(n,arguments)};return r.__beanDel={ft:i,selector:e},r},A=h?function(e,t,n){var r=c.createEvent(e?"HTMLEvents":"UIEvents");r[e?"initEvent":"initUIEvent"](t,!0,!0,i,1),n.dispatchEvent(r)}:function(e,t,n){n=x(n,e),e?n.fireEvent("on"+t,c.createEventObject()):n["_on"+t]++},L=function(e,t,n){var i,r,l,s,c=m(t);if(c&&t.indexOf(" ")>0){for(t=g(t),s=t.length;s--;)L(e,t[s],n);return e}if(r=c&&t.replace(a,""),r&&w[r]&&(r=w[r].base),!t||c)(l=c&&t.replace(o,""))&&(l=g(l,".")),H(e,r,n,l);else if(y(t))H(e,null,t);else for(i in t)t.hasOwnProperty(i)&&L(e,i,t[i]);return e},D=function(e,t,i,r){var l,s,c,u,h,m,b;{if(void 0!==i||"object"!=typeof t){for(y(i)?(h=f.call(arguments,3),r=l=i):(l=r,h=f.call(arguments,4),r=I(i,l,n)),c=g(t),this===p&&(r=N(L,e,t,r,l)),u=c.length;u--;)b=E.put(m=new T(e,c[u].replace(a,""),r,l,g(c[u].replace(o,""),"."),h,!1)),m[d]&&b&&P(e,m.eventType,!0,m.customType);return e}for(s in t)t.hasOwnProperty(s)&&D.call(this,e,s,t[s])}},O=function(e,t,n,i){return D.apply(null,m(n)?[e,n,t,i].concat(arguments.length>3?f.call(arguments,5):[]):f.call(arguments))},B=function(){return D.apply(p,arguments)},M=function(e,t,n){var i,r,l,s,c,u=g(t);for(i=u.length;i--;)if(t=u[i].replace(a,""),(s=u[i].replace(o,""))&&(s=g(s,".")),s||n||!e[d])for(c=E.get(e,t,null,!1),n=[!1].concat(n),r=0,l=c.length;l>r;r++)c[r].inNamespaces(s)&&c[r].handler.apply(e,n);else A(v[t],t,e);return e},R=function(e,t,n){for(var i,r,o=E.get(t,n,null,!1),a=o.length,l=0;a>l;l++)o[l].original&&(i=[e,o[l].type],(r=o[l].handler.__beanDel)&&i.push(r.selector),i.push(o[l].original),D.apply(null,i));return e},$={on:D,add:O,one:B,off:L,remove:L,clone:R,fire:M,Event:k,setSelectorEngine:C,noConflict:function(){return t[e]=r,this}};if(i.attachEvent){var U=function(){var e,t=E.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&L(t[e].element,t[e].type);i.detachEvent("onunload",U),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",U)}return C(),$}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}("bonzo",_altmetric,function(){function e(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function t(t,n,i){var r,o,a;if("string"==typeof t)return w.create(t);if(e(t)&&(t=[t]),i){for(a=[],r=0,o=t.length;o>r;r++)a[r]=y(n,t[r]);return a}return t}function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t,n,i){for(var r,o=0,a=e.length;a>o;o++)r=i?e.length-o-1:o,t.call(n||e[r],e[r],r,e);return e}function r(t,n,i){for(var o=0,a=t.length;a>o;o++)e(t[o])&&(r(t[o].childNodes,n,i),n.call(i||t[o],t[o],o,t));return t}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function a(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function l(e){e[q]("data-node-uid")||e[V]("data-node-uid",++U);var t=e[q]("data-node-uid");return $[t]||($[t]={})}function s(e){var t=e[q]("data-node-uid");t&&delete $[t]}function c(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function u(e,t,n){for(var i=0,r=e.length;r>i;++i)if(t.call(n||null,e[i],i,e))return!0;return!1}function h(e){return"transform"==e&&(e=G.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=G.transform+"Origin")||"float"==e&&(e=G.cssFloat),e?o(e):null}function d(e,n,r,o){var a=0,l=n||this,s=[],c=Z&&"string"==typeof e&&"<"!=e.charAt(0)?Z(e):e;return i(t(c),function(e,t){i(l,function(n){r(e,s[a++]=t>0?y(l,n):n)},null,o)},this,o),l.length=a,i(s,function(e){l[--a]=e},null,!o),l}function p(e,t,n){var i=w(e),r=i.css("position"),o=i.offset(),a="relative",l=r==a,s=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];"static"==r&&(i.css("position",a),r=a),isNaN(s[0])&&(s[0]=l?0:e.offsetLeft),isNaN(s[1])&&(s[1]=l?0:e.offsetTop),null!=t&&(e.style.left=t-o.left+s[0]+W),null!=n&&(e.style.top=n-o.top+s[1]+W)}function f(e,t){return"function"==typeof t?t(e):t}function g(e,t,n){var i=this[0];return i?null==e&&null==t?(b(i)?_():{x:i.scrollLeft,y:i.scrollTop})[n]:(b(i)?E.scrollTo(e,t):(null!=e&&(i.scrollLeft=e),null!=t&&(i.scrollTop=t)),this):this}function m(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,i,r,o=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(o).cloneEvents(t),n=e.$(o).find("*"),i=e.$(t).find("*"),r=0;r<i.length;r++)e.$(n[r]).cloneEvents(i[r]);return o}function b(e){return e===E||/^(?:body|html)$/i.test(e.tagName)}function _(){return{x:E.pageXOffset||S.scrollLeft,y:E.pageYOffset||S.scrollTop}}function v(e){var t=document.createElement("script"),n=e.match(I);return t.src=n[1],t}function w(e){return new m(e)}var k,x,T,E=window,C=E.document,S=C.documentElement,P="parentNode",N=/^(checked|value|selected|disabled)$/i,H=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,I=/\s*<script +src=['"]([^'"]+)['"]>/,A=["<table>","</table>",1],L=["<table><tbody><tr>","</tr></tbody></table>",3],D=["<select>","</select>",1],O=["_","",0,1],B={thead:A,tbody:A,tfoot:A,colgroup:A,caption:A,tr:["<table><tbody>","</tbody></table>",2],th:L,td:L,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:D,optgroup:D,script:O,style:O,link:O,param:O,base:O},M=/^(checked|selected|disabled)$/,R=/msie/i.test(navigator.userAgent),$={},U=0,F=/^-?[\d\.]+$/,z=/^data-(.+)$/,W="px",V="setAttribute",q="getAttribute",j="getElementsByTagName",G=function(){var e=C.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:"#x"!=e[j]("a")[0][q]("href"),autoTbody:0!==e[j]("tbody").length,computedStyle:C.defaultView&&C.defaultView.getComputedStyle,cssFloat:e[j]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e,opasity:function(){return"undefined"!=typeof C.createElement("a").style.opacity}()}}(),K=/(^\s*|\s*$)/g,X=/\s+/,Y=String.prototype.toString,Q={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},Z=C.querySelectorAll&&function(e){return C.querySelectorAll(e)},J=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(K,"")},et=G.computedStyle?function(e,t){var n=null,i=C.defaultView.getComputedStyle(e,"");return i&&(n=i[t]),e.style[t]||n}:R&&S.currentStyle?function(e,t){var n,i;if("opacity"==t&&!G.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{n=e.filters("alpha").opacity}catch(o){}}return n/100}return i=e.currentStyle?e.currentStyle[t]:null,e.style[t]||i}:function(e,t){return e.style[t]};return G.classList?(k=function(e,t){return e.classList.contains(t)},x=function(e,t){e.classList.add(t)},T=function(e,t){e.classList.remove(t)}):(k=function(e,t){return n(t).test(e.className)},x=function(e,t){e.className=J(e.className+" "+t)},T=function(e,t){e.className=J(e.className.replace(n(t)," "))}),m.prototype={get:function(e){return this[e]||null},each:function(e,t){return i(this,e,t)},deepEach:function(e,t){return r(this,e,t)},map:function(e,t){var n,i,r=[];for(i=0;i<this.length;i++)n=e.call(this,this[i],i),t?t(n)&&r.push(n):r.push(n);return r},html:function(e,n){var r=n?void 0===S.textContent?"innerText":"textContent":"innerHTML",o=this,a=function(n,r){i(t(e,o,r),function(e){n.appendChild(e)})},l=function(t,i){try{if(n||"string"==typeof e&&!H.test(t.tagName))return t[r]=e}catch(o){}a(t,i)};return"undefined"!=typeof e?this.empty().each(l):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var n=this;return this.each(function(r,o){i(t(e,n,o),function(e){r.appendChild(e)})})},prepend:function(e){var n=this;return this.each(function(r,o){var a=r.firstChild;i(t(e,n,o),function(e){r.insertBefore(e,a)})})},appendTo:function(e,t){return d.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return d.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var n=this;return this.each(function(r,o){i(t(e,n,o),function(e){r[P].insertBefore(e,r)})})},after:function(e){var n=this;return this.each(function(r,o){i(t(e,n,o),function(e){r[P].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return d.call(this,e,t,function(e,t){e[P].insertBefore(t,e)})},insertAfter:function(e,t){return d.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[P].insertBefore(t,n):e[P].appendChild(t)},1)},replaceWith:function(e){return w(t(e)).insertAfter(this),this.remove()},clone:function(e){var t,n,i=[];for(n=0,t=this.length;t>n;n++)i[n]=y(e||this,this[n]);return w(i)},addClass:function(e){return e=Y.call(e).split(X),this.each(function(t){i(e,function(e){e&&!k(t,f(t,e))&&x(t,f(t,e))})})},removeClass:function(e){return e=Y.call(e).split(X),this.each(function(t){i(e,function(e){e&&k(t,f(t,e))&&T(t,f(t,e))})})},hasClass:function(e){return e=Y.call(e).split(X),u(this,function(t){return u(e,function(e){return e&&k(t,e)})})},toggleClass:function(e,t){return e=Y.call(e).split(X),this.each(function(n){i(e,function(e){e&&("undefined"!=typeof t?t?!k(n,e)&&x(n,e):T(n,e):k(n,e)?T(n,e):x(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return w(this.length?this[0]:[])},last:function(){return w(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(P)},related:function(e){return w(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(e,t){function n(e,t,n){for(var i in r)if(r.hasOwnProperty(i)){n=r[i],(t=h(i))&&F.test(n)&&!(t in Q)&&(n+=W);try{e.style[t]=f(e,n)}catch(o){}}}var i,r=e;return void 0===t&&"string"==typeof e?(t=this[0],t?t===C||t===E?(i=t===C?w.doc():w.viewport(),"width"==e?i.width:"height"==e?i.height:""):(e=h(e))?et(t,e):null:null):("string"==typeof e&&(r={},r[e]=t),R&&r.opacity&&(r.filter="alpha(opacity="+100*r.opacity+")",r.zoom=e.zoom||1,delete r.opacity),this.each(n))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){p(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){p(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],i=n.ownerDocument.documentElement,r=n.getBoundingClientRect(),o=_(),a=n.offsetWidth,l=n.offsetHeight,s=r.top+o.y-Math.max(0,i&&i.clientTop,C.body.clientTop),c=r.left+o.x-Math.max(0,i&&i.clientLeft,C.body.clientLeft);return{top:s,left:c,height:l,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),i=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,r=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:r,width:i}},attr:function(e,t){var n,i=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?i?N.test(e)?M.test(e)&&"string"==typeof i[e]?!0:i[e]:"href"!=e&&"src"!=e||!G.hrefExtended?i[q](e):i[q](e,2):null:this.each(function(n){N.test(e)?n[e]=f(n,t):n[V](e,f(n,t))})},removeAttr:function(e){return this.each(function(t){M.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,r,s=this[0];return"undefined"==typeof t?s?(n=l(s),"undefined"==typeof e?(i(s.attributes,function(e){(r=(""+e.name).match(z))&&(n[o(r[1])]=c(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=c(this.attr("data-"+a(e)))),n[e])):null:this.each(function(n){l(n)[e]=t})},remove:function(){return this.deepEach(s),this.detach()},empty:function(){return this.each(function(e){for(r(e.childNodes,s);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[P]&&e[P].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},w.setQueryEngine=function(e){Z=e,delete w.setQueryEngine},w.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||m.prototype)[n]=e[n])},w.create=function(t){return"string"==typeof t&&""!==t?function(){if(I.test(t))return[v(t)];var e=t.match(/^\s*<([^\s>]+)/),n=C.createElement("div"),r=[],o=e?B[e[1].toLowerCase()]:null,a=o?o[2]+1:1,l=o&&o[3],s=P,c=G.autoTbody&&o&&"<table>"==o[0]&&!/<tbody/i.test(t);for(n.innerHTML=o?o[0]+t+o[1]:t;a--;)n=n.firstChild;l&&n&&1!==n.nodeType&&(n=n.nextSibling);do e&&1!=n.nodeType||c&&(!n.tagName||"TBODY"==n.tagName)||r.push(n);while(n=n.nextSibling);return i(r,function(e){e[s]&&e[s].removeChild(e)}),r}():e(t)?[t.cloneNode(!0)]:[]},w.doc=function(){var e=w.viewport();return{width:Math.max(C.body.scrollWidth,S.scrollWidth,e.width),height:Math.max(C.body.scrollHeight,S.scrollHeight,e.height)}},w.firstChild=function(e){for(var t,n=e.childNodes,i=0,r=n&&n.length||0;r>i;i++)1===n[i].nodeType&&(t=n[r=i]);return t},w.viewport=function(){return{width:R?S.clientWidth:self.innerWidth,height:R?S.clientHeight:self.innerHeight}},w.isAncestor="compareDocumentPosition"in S?function(e,t){return 16==(16&e.compareDocumentPosition(t))
}:"contains"in S?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t[P];)if(t===e)return!0;return!1},w}),!function(e,t){"undefined"!=typeof module&&module.exports?module.exports.browser=t():_altmetric[e]=t()}("bowser",function(){function e(){return r?{name:"Internet Explorer",msie:i,version:n.match(/(msie |rv:)(\d+(\.\d+)?)/i)[2]}:d?{name:"Opera",opera:i,version:n.match(m)?n.match(m)[1]:n.match(/opr\/(\d+(\.\d+)?)/i)[1]}:o?{name:"Chrome",webkit:i,chrome:i,version:n.match(/chrome\/(\d+(\.\d+)?)/i)[1]}:a?{name:"PhantomJS",webkit:i,phantom:i,version:n.match(/phantomjs\/(\d+(\.\d+)+)/i)[1]}:u?{name:"TouchPad",webkit:i,touchpad:i,version:n.match(/touchpad\/(\d+(\.\d+)?)/i)[1]}:s||c?(t={name:s?"iPhone":"iPad",webkit:i,mobile:i,ios:i,iphone:s,ipad:c},m.test(n)&&(t.version=n.match(m)[1]),t):h?{name:"Android",webkit:i,android:i,mobile:i,version:(n.match(m)||n.match(y))[1]}:l?{name:"Safari",webkit:i,safari:i,version:n.match(m)[1]}:f?(t={name:"Gecko",gecko:i,mozilla:i,version:n.match(y)[1]},p&&(t.name="Firefox",t.firefox=i),t):g?{name:"SeaMonkey",seamonkey:i,version:n.match(/seamonkey\/(\d+(\.\d+)?)/i)[1]}:{}}var t,n=navigator.userAgent,i=!0,r=/(msie|trident)/i.test(n),o=/chrome/i.test(n),a=/phantom/i.test(n),l=/safari/i.test(n)&&!o&&!a,s=/iphone/i.test(n),c=/ipad/i.test(n),u=/touchpad/i.test(n),h=/android/i.test(n),d=/opera/i.test(n)||/opr/i.test(n),p=/firefox/i.test(n),f=/gecko\//i.test(n),g=/seamonkey\//i.test(n),m=/version\/(\d+(\.\d+)?)/i,y=/firefox\/(\d+(\.\d+)?)/i,b=e();return b.msie&&b.version>=8||b.chrome&&b.version>=10||b.firefox&&b.version>=4||b.safari&&b.version>=5||b.opera&&b.version>=10?b.a=i:b.msie&&b.version<8||b.chrome&&b.version<10||b.firefox&&b.version<4||b.safari&&b.version<5||b.opera&&b.version<10?b.c=i:b.x=i,b}),function(){var e,t,n,i=[].slice;t=function(){var e,t;if(e=1<=arguments.length?i.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&null!=console.error)try{return console.error.apply(console,e)}catch(n){return t=n,console.error(Array.prototype.slice.call(arguments))}},n=function(){var e;e=1<=arguments.length?i.call(arguments,0):[]},e=function(){var e;e=1<=arguments.length?i.call(arguments,0):[]},_altmetric.exports({log:n,errorLog:t,assert:e})}.call(this),function(){var e,t,n,i,r;n=function(e,t,n){var i,r,o;if(null===e||void 0===e)throw new TypeError("Object is null or undefined");if(r=0,o=e.length>>0,i=void 0,"function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<3){if(0===o)throw new TypeError("Array length is 0 and no second argument");i=e[0],r=1}else i=n;for(;o>r;)r in e&&(i=t.call(void 0,i,e[r],r,e),++r);return i},i=function(e){return n(e,function(e,t){return e[t[0]]=t[1],e},{})},t=function(e){return null!=Array.prototype.first?e.first():e.length>0?e[0]:void 0},r=function(e){var t,n,i,r,o,a;if(null!=Array.prototype.unique)return e.unique();for(i={},n=t=0,r=e.length;r>=0?r>=t:t>=r;n=r>=0?++t:--t)i[e[n]]=e[n];o=[];for(n in i)a=i[n],"undefined"!==n&&o.push(a);return o},e=function(e,t){var n,i,r,o;if(null!=Array.prototype.filter)return e.filter(t);for(r=[],n=0,i=e.length;i>n;n++)o=e[n],t(o)&&r.push(o);return r},_altmetric.exports({array_reduce:n,array_filter:e,array_to_dict:i,array_first:t,array_unique:r})}.call(this),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(){var e,t,n,i;n=_altmetric.log,e=function(e){var t,n;return null!=e&&null!=(t=e.match(/(10\.\d{4,5}\/[\S]+[^\.\s])/g))&&null!=(n=t[0])?n.trim():void 0},i=function(t){var i,r,o;return o=function(){var e,n,r,o,a;for(r=document.getElementsByTagName("meta"),a=[],e=0,n=r.length;n>e;e++)i=r[e],(null!=(o=i.getAttribute("name"))?o.toLowerCase():void 0)===t.toLowerCase()&&a.push(i.getAttribute("content"));return a}(),o=function(){var t,n,i;for(i=[],t=0,n=o.length;n>t;t++)r=o[t],null!=r&&null!=e(r)&&i.push(e(r));return i}(),n(o),o.length>0?o[0]:void 0},t=function(e){var t;return(t=i("citation_doi"))?t:(t=i("DC.Identifier"))?t:(t=i("rft_id"))?t:(n("could not find a DOI"),e)},_altmetric.exports({findDOI:t,metaValue:i,extractDOI:e})}.call(this),_altmetric.exports({sources:[{id:5,light_colour:"#FF0000",dark_colour:"#B60000",name:"News",code:"m",fetch_api_key:"news",tab_label:"News",tab_id:"msm",user_label_plural:"news outlets",user_label:"news outlet",post_types:["msm"],position:0,basic_api_key:"msm",legend_text:"Picked up by **COUNT** news outlet(s)",cited_counts:["cited_by_msm_count"],name_plural:"news stories",filter:null},{id:2,light_colour:"#ffd140",dark_colour:"#e89500",name:"Blogs",code:"b",fetch_api_key:"blogs",tab_label:"Blogs",tab_id:"blogs",user_label_plural:"blogs",user_label:"blog",post_types:["blog"],position:1,basic_api_key:"feeds",legend_text:"Blogged by **COUNT**",cited_counts:["cited_by_feeds_count"],name_plural:"blog posts",filter:""},{id:16,light_colour:"#9f79f2",dark_colour:"#270a63",name:"Policy documents",code:"d",fetch_api_key:"policy",tab_label:"Policy documents",tab_id:"policy",user_label_plural:"policy sources",user_label:"policy source",post_types:["policy"],position:2,basic_api_key:"policies",legend_text:"Referenced in **COUNT** policy source(s)",cited_counts:["cited_by_policies_count"],name_plural:"policy documents",filter:""},{id:1,light_colour:"#74CFED",dark_colour:"#2F90B9",name:"Twitter",code:"t",fetch_api_key:"twitter",tab_label:"Twitter",tab_id:"twitter",user_label_plural:"tweeters",user_label:"tweeter",post_types:["tweet"],position:3,basic_api_key:"tweeters",legend_text:"Tweeted by **COUNT**",cited_counts:["cited_by_tweeters_count"],name_plural:"tweets",filter:null},{id:14,light_colour:"#efefef",dark_colour:"#bdbdbd",name:"Peer reviews",code:"e",fetch_api_key:"peer_reviews",tab_label:"Peer reviews",tab_id:"peer_reviews",user_label_plural:"peer review sites",user_label:"peer review site",post_types:["peer_review"],position:4,basic_api_key:"peer_review_sites",legend_text:"Mentioned by **COUNT** peer review site(s)",cited_counts:["cited_by_peer_review_sites_count"],name_plural:"peer reviews",filter:null},{id:15,light_colour:"#ffb33b",dark_colour:"#df931b",name:"Weibo",code:"s",fetch_api_key:"weibo",tab_label:"Weibo",tab_id:"weibo",user_label_plural:"weibo users",user_label:"weibo user",post_types:["weibo"],position:5,basic_api_key:"weibo",legend_text:"Mentioned by **COUNT** weibo user(s)",cited_counts:["cited_by_weibo_count"],name_plural:"weibo posts",filter:null},{id:3,light_colour:"#2445BD",dark_colour:"#071D70",name:"Facebook",code:"f",fetch_api_key:"facebook",tab_label:"Facebook",tab_id:"facebook",user_label_plural:"Facebook pages",user_label:"Facebook page",post_types:["fbwall"],position:6,basic_api_key:"fbwalls",legend_text:"On **COUNT** Facebook page(s)",cited_counts:["cited_by_fbwalls_count"],name_plural:"Facebook posts",filter:""},{id:13,light_colour:"#958899",dark_colour:"#3b2a3d",name:"Wikipedia",code:"w",fetch_api_key:"wikipedia",tab_label:"Wikipedia",tab_id:"wikipedia",user_label_plural:"Wikipedia pages",user_label:"Wikipedia page",post_types:["wikipedia"],position:7,basic_api_key:"wikipedia",legend_text:"Referenced in **COUNT** Wikipedia pages",cited_counts:["cited_by_wikipedia_count"],name_plural:"Wikipedia pages",filter:""},{id:4,light_colour:"#E065BB",dark_colour:"#912470",name:"Google+",code:"g",fetch_api_key:"googleplus",tab_label:"Google+",tab_id:"gplus",user_label_plural:"Google+ users",user_label:"Google+ user",post_types:["gplus"],position:8,basic_api_key:"gplus",legend_text:"Mentioned in **COUNT** Google+ post(s)",cited_counts:["cited_by_gplus_count"],name_plural:"Google+ posts",filter:null},{id:6,light_colour:"#1E90FF",dark_colour:"#00BFFF",name:"LinkedIn",code:"l",fetch_api_key:"linkedin",tab_label:"LinkedIn",tab_id:"linkedin",user_label_plural:"LinkedIn users",user_label:"LinkedIn user",post_types:["linkedin"],position:9,basic_api_key:"linkedin",legend_text:"Mentioned in **COUNT** LinkedIn forum(s)",cited_counts:["cited_by_linkedin_count"],name_plural:"LinkedIn posts",filter:null},{id:7,light_colour:"#D5E8F0",dark_colour:"#B9DDEB",name:"Reddit",code:"r",fetch_api_key:"reddit",tab_label:"Reddit",tab_id:"reddit",user_label_plural:"Redditors",user_label:"Redditor",post_types:["rdt"],position:10,basic_api_key:"rdts",legend_text:"Reddited by **COUNT**",cited_counts:["cited_by_rdts_count"],name_plural:"Reddit posts",filter:null},{id:9,light_colour:"#CC6600",dark_colour:"#CC3300",name:"Pinterest",code:"p",fetch_api_key:"pinterest",tab_label:"Pinterest",tab_id:"pinterest",user_label_plural:"Pinners",user_label:"Pinner",post_types:["pinterest"],position:11,basic_api_key:"pinners",legend_text:"Pinned by **COUNT** on Pinterest",cited_counts:["cited_by_pinners_count"],name_plural:"pins",filter:null},{id:8,light_colour:"#F4006E",dark_colour:"#CB2D2D",name:"F1000",code:"1",fetch_api_key:"f1000",tab_label:"Research highlights",tab_id:"highlights",user_label_plural:"research highlight platforms",user_label:"research highlight platform",post_types:["rh","f1000"],position:12,basic_api_key:"rh",legend_text:"Highlighted by **COUNT** platform(s)",cited_counts:["cited_by_f1000_count","cited_by_rh_count"],name_plural:"Research highlight platforms",filter:""},{id:10,light_colour:"#DEDEDE",dark_colour:"#EFEFEF",name:"QnA",code:"q",fetch_api_key:"q&a",tab_label:"Q&A",tab_id:"qna",user_label_plural:"Q&A threads",user_label:"Q&A thread",post_types:["qna"],position:13,basic_api_key:"qna",legend_text:"Mentioned in **COUNT** Q&A thread(s)",cited_counts:["cited_by_forums_count","cited_by_qna_count","cited_by_qs_count"],name_plural:"Q&A threads",filter:null},{id:11,light_colour:"#94DB5E",dark_colour:"#98C973",name:"Video",code:"v",fetch_api_key:"video",tab_label:"Video",tab_id:"videos",user_label_plural:"video uploaders",user_label:"video uploader",post_types:["video"],position:14,basic_api_key:"videos",legend_text:"On **COUNT** video(s)",cited_counts:["cited_by_videos_count"],name_plural:"videos",filter:null},{id:12,light_colour:"#DEDEDE",dark_colour:"#EFEFEF",name:"Unknown",code:"?",fetch_api_key:null,tab_label:"Misc.",tab_id:"misc",user_label_plural:"misc. posts",user_label:"misc. post",post_types:["unknown","other"],position:15,basic_api_key:null,legend_text:"Mentioned in **COUNT** misc. posts",cited_counts:["cited_by_unknown_count"],name_plural:"misc. posts",filter:null}]}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.image_or_text=Handlebars.template(function(e,t,n,i,r){function o(e,t){var i,r="";return r+='\n    <img alt="',(i=n.alt_text)?i=i.call(e,{hash:{},data:t}):(i=e.alt_text,i=typeof i===c?i.apply(e):i),r+=u(i)+'" src="',(i=n.img_src)?i=i.call(e,{hash:{},data:t}):(i=e.img_src,i=typeof i===c?i.apply(e):i),r+=u(i)+'" width="',(i=n.img_width)?i=i.call(e,{hash:{},data:t}):(i=e.img_width,i=typeof i===c?i.apply(e):i),r+=u(i)+'" height="',(i=n.img_height)?i=i.call(e,{hash:{},data:t}):(i=e.img_height,i=typeof i===c?i.apply(e):i),r+=u(i)+'" style="border:0; margin:0; max-width: none;">\n'}function a(e,t){var i,r="";return r+='\n    <span class="_altmetric_score">',(i=n.score)?i=i.call(e,{hash:{},data:t}):(i=e.score,i=typeof i===c?i.apply(e):i),r+=u(i)+"</span>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,s="",c="function",u=this.escapeExpression,h=this;return l=n["if"].call(t,t.show_img,{hash:{},inverse:h.program(3,a,r),fn:h.program(1,o,r),data:r}),(l||0===l)&&(s+=l),s+="\n"}),this.HandlebarsTemplates.image_or_text}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=this.merge(i,e.partials),r=r||{};var o,a="",l="function",s=this.escapeExpression,c=this;return a+='<a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:r}):(o=t.linkTarget,o=typeof o===l?o.apply(t):o),a+=s(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:r}):(o=t.link,o=typeof o===l?o.apply(t):o),a+=s(o)+'" style="display:inline-block;">\n    ',o=c.invokePartial(i.image_or_text,"image_or_text",t,n,i,r),(o||0===o)&&(a+=o),a+="\n</a>\n"}),this.HandlebarsTemplates.badge}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge_with_details=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=this.merge(i,e.partials),r=r||{};var o,a="",l="function",s=this.escapeExpression,c=this;return a+='<div style="overflow:hidden;">\n    <div class=\'',(o=n.legendStyle)?o=o.call(t,{hash:{},data:r}):(o=t.legendStyle,o=typeof o===l?o.apply(t):o),a+=s(o)+"'>\n        <a target=\"",(o=n.linkTarget)?o=o.call(t,{hash:{},data:r}):(o=t.linkTarget,o=typeof o===l?o.apply(t):o),a+=s(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:r}):(o=t.link,o=typeof o===l?o.apply(t):o),a+=s(o)+'" style="display:inline-block;">\n            ',o=c.invokePartial(i.image_or_text,"image_or_text",t,n,i,r),(o||0===o)&&(a+=o),a+='\n        </a>\n        <p class=\'altmetric-see-more-details\' style="padding-top: 10px; text-align: center;"><a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:r}):(o=t.linkTarget,o=typeof o===l?o.apply(t):o),a+=s(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:r}):(o=t.link,o=typeof o===l?o.apply(t):o),a+=s(o)+'">See more details</a></p>\n    </div>\n    <div id="_altmetric_popover_el" class="altmetric-embed right" style="margin:0; padding:0; display:inline-block; float:left; position:relative;">\n        <div class="altmetric_container" id="_altmetric_container">\n            <div class="altmetric-embed altmetric-popover-inner right" id="_altmetric_popover_inner">\n                <div style="padding:0; margin: 0;" class="altmetric-embed altmetric-popover-content">\n                    ',(o=n.contents)?o=o.call(t,{hash:{},data:r}):(o=t.contents,o=typeof o===l?o.apply(t):o),(o||0===o)&&(a+=o),a+="\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.HandlebarsTemplates.badge_with_details}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge_with_popover=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=this.merge(i,e.partials),r=r||{};var o,a="",l="function",s=this.escapeExpression,c=this;return a+='<a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:r}):(o=t.linkTarget,o=typeof o===l?o.apply(t):o),a+=s(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:r}):(o=t.link,o=typeof o===l?o.apply(t):o),a+=s(o)+'" rel="popover" data-content="<div>',(o=n.contents)?o=o.call(t,{hash:{},data:r}):(o=t.contents,o=typeof o===l?o.apply(t):o),(o||0===o)&&(a+=o),a+='</div>" style="display:inline-block;" data-badge-popover="',(o=n.position)?o=o.call(t,{hash:{},data:r}):(o=t.position,o=typeof o===l?o.apply(t):o),a+=s(o)+'">\n    ',o=c.invokePartial(i.image_or_text,"image_or_text",t,n,i,r),(o||0===o)&&(a+=o),a+="\n</a>\n"}),this.HandlebarsTemplates.badge_with_popover}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.legend=Handlebars.template(function(e,t,n,i,r){function o(e,t){var i,r,o,s="";return s+="\n    <div style='padding-left: 10px; line-height:18px; border-left: 16px solid "+w((i=t,i=null==i||i===!1?i:i.source,i=null==i||i===!1?i:i.light_colour,typeof i===v?i.apply(e):i))+";'>\n      <a class='link-to-altmetric-details-tab' target='",(r=n.linkTarget)?r=r.call(e,{hash:{},data:t}):(r=e.linkTarget,r=typeof r===v?r.apply(e):r),s+=w(r)+"' href='",(r=n.link)?r=r.call(e,{hash:{},data:t}):(r=e.link,r=typeof r===v?r.apply(e):r),s+=w(r)+"&tab=",o={hash:{},data:t},s+=w((i=n.tabLabelToRequestId||e.tabLabelToRequestId,i?i.call(e,(i=t,i=null==i||i===!1?i:i.source,null==i||i===!1?i:i.tab_label),o):k.call(e,"tabLabelToRequestId",(i=t,i=null==i||i===!1?i:i.source,null==i||i===!1?i:i.tab_label),o)))+"'>\n        ",r=n["if"].call(e,e.condensedLegend,{hash:{},inverse:x.program(4,l,t),fn:x.program(2,a,t),data:t}),(r||0===r)&&(s+=r),s+="\n      </a>\n    </div>\n"}function a(e,t){var n,i="";return i+="\n          "+w((n=t,n=null==n||n===!1?n:n.source,n=null==n||n===!1?n:n.name,typeof n===v?n.apply(e):n))+" ("+w((n=t,n=null==n||n===!1?n:n.count,typeof n===v?n.apply(e):n))+")\n        "}function l(e,t){var i,r,o,a="";return a+="\n          ",o={hash:{},data:t},i=n.legendText||e.legendText,r=i?i.call(e,(i=t,i=null==i||i===!1?i:i.source,null==i||i===!1?i:i.legend_text),(i=t,null==i||i===!1?i:i.count),o):k.call(e,"legendText",(i=t,i=null==i||i===!1?i:i.source,null==i||i===!1?i:i.legend_text),(i=t,null==i||i===!1?i:i.count),o),(r||0===r)&&(a+=r),a+="\n        "}function s(e,t){var i,r,o="";return o+="\n    <div class='altmetric-embed readers' style='margin-top: 10px;'>\n      ",r=n["if"].call(e,(i=e.readerVisibility,null==i||i===!1?i:i.mendeley),{hash:{},inverse:x.noop,fn:x.program(7,c,t),data:t}),(r||0===r)&&(o+=r),o+="\n      ",r=n["if"].call(e,(i=e.readerVisibility,null==i||i===!1?i:i.citeulike),{hash:{},inverse:x.noop,fn:x.program(12,d,t),data:t}),(r||0===r)&&(o+=r),o+="\n    </div>\n"}function c(e,t){var i,r="";return r+="\n          <div class='altmetric-embed tip_mendeley'\n               style='padding-left: 10px; line-height:18px; border-left: 16px solid #A60000;'>\n            ",i=n["if"].call(e,e.condensedLegend,{hash:{},inverse:x.program(10,h,t),fn:x.program(8,u,t),data:t}),(i||0===i)&&(r+=i),r+="\n          </div>\n      "}function u(e){var t,n="";return n+="\n              Mendeley ("+w((t=e.readers,t=null==t||t===!1?t:t.mendeley,typeof t===v?t.apply(e):t))+")\n            "}function h(e,t){var i,r,o="";return o+="\n              <b>"+w((i=e.readers,i=null==i||i===!1?i:i.mendeley,typeof i===v?i.apply(e):i))+"</b> ",r={hash:{},data:t},o+=w((i=n.pluralize||e.pluralize,i?i.call(e,(i=e.readers,null==i||i===!1?i:i.mendeley),"reader",r):k.call(e,"pluralize",(i=e.readers,null==i||i===!1?i:i.mendeley),"reader",r)))+" on Mendeley            \n            "}function d(e,t){var i,r="";return r+="\n          <div class='altmetric-embed tip_citeulike'\n               style='padding-left: 10px; line-height:18px; border-left: 16px solid #BCD2EF;'>\n            ",i=n["if"].call(e,e.condensedLegend,{hash:{},inverse:x.program(15,f,t),fn:x.program(13,p,t),data:t}),(i||0===i)&&(r+=i),r+="\n          </div>\n      "}function p(e){var t,n="";return n+="\n              CiteULike ("+w((t=e.readers,t=null==t||t===!1?t:t.citeulike,typeof t===v?t.apply(e):t))+")\n            "}function f(e,t){var i,r,o="";return o+="\n              <b>"+w((i=e.readers,i=null==i||i===!1?i:i.citeulike,typeof i===v?i.apply(e):i))+"</b> ",r={hash:{},data:t},o+=w((i=n.pluralize||e.pluralize,i?i.call(e,(i=e.readers,null==i||i===!1?i:i.citeulike),"reader",r):k.call(e,"pluralize",(i=e.readers,null==i||i===!1?i:i.citeulike),"reader",r)))+" on CiteULike\n            "}function g(e,t){var i,r="";return r+="\n    <div style='margin-top: 10px; text-align: center;'>\n        <a class='altmetric_details' target='",(i=n.linkTarget)?i=i.call(e,{hash:{},data:t}):(i=e.linkTarget,i=typeof i===v?i.apply(e):i),r+=w(i)+"' href='",(i=n.link)?i=i.call(e,{hash:{},data:t}):(i=e.link,i=typeof i===v?i.apply(e):i),r+=w(i)+"'>\n            See more details\n        </a>\n        |\n        <a href='#' class='close-popover'>\n            Close this\n        </a>\n    </div>\n\n    <a class='altmetric_embed close-popover'\n       style='display: block; position: absolute; top: 10px; right: 15px; font-size: 1.2em; font-weight: bold; text-decoration: none; color: black; padding-bottom: 2em; padding-left: 2em;'\n       href='javascript:void(0);'>\n        &times;\n    </a>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var m,y,b,_="",v="function",w=this.escapeExpression,k=n.helperMissing,x=this,T=n.blockHelperMissing;return b={hash:{},inverse:x.noop,fn:x.program(1,o,r),data:r},(m=n.eachSourceWithCount)?m=m.call(t,b):(m=t.eachSourceWithCount,m=typeof m===v?m.apply(t):m),n.eachSourceWithCount||(m=T.call(t,m,b)),(m||0===m)&&(_+=m),_+="\n\n",y=n["if"].call(t,(m=t.readerVisibility,null==m||m===!1?m:m.visible),{hash:{},inverse:x.noop,fn:x.program(6,s,r),data:r}),(y||0===y)&&(_+=y),_+="\n",y=n["if"].call(t,t.popover,{hash:{},inverse:x.noop,fn:x.program(17,g,r),data:r}),(y||0===y)&&(_+=y),_+="\n"}),this.HandlebarsTemplates.legend}.call(this),function(){var e,t,n,i=[].slice;e=_altmetric.assert,n=_altmetric.log,t=_altmetric.encodeHTML,Handlebars.registerHelper("pluralize",function(e,t,n){return 1===e?t:t+"s"}),Handlebars.registerHelper("tabLabelToRequestId",function(e){return e.toLowerCase().replace(/[^a-zA-Z\s]/,"").replace(/\s+/,"-")}),Handlebars.registerHelper("eachSourceWithCount",function(e){var t,n,i,r;return i=function(){var i,o,a,l;for(a=_altmetric.sources,l=[],i=0,o=a.length;o>i;i++)r=a[i],t="cited_by_"+r.basic_api_key+"_count",t in this?(n=Handlebars.createFrame(e.data||{}),n.source=r,n.count=this[t],l.push(e.fn(this,{data:n}))):l.push(void 0);return l}.call(this),i.join("")}),Handlebars.registerHelper("legendText",function(n,i){var r,o;return e(void 0!==n,"LegendText should not be undefined"),e(void 0!==i,"Count should never be undefined"),o=t(n).replace(/\*\*(\w+)\*\*/,"<b>$1</b>"),o=o.replace(/COUNT/,i),r=i>0,o.replace(/(\w+)\(s\)/,r?"$1s":"$1")}),Handlebars.registerHelper("donutImgUrl",function(e){var t;return t=e.hash.size,new Handlebars.SafeString("<img src='"+Handlebars.Utils.escapeExpression(this.donutImageUrl(2*t))+"' width='"+t+"' height='"+t+"'/>")}),Handlebars.registerPartial("image_or_text",HandlebarsTemplates.image_or_text),Handlebars.registerHelper("log",function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],n.apply(null,e)})}.call(this),function(){var e,t,n,i,r,o,a=function(e,t){return function(){return e.apply(t,arguments)}};r=_altmetric.log,o=_altmetric.qwery,t=_altmetric.bean,n=_altmetric.bonzo,i=_altmetric.array_first,e=function(){function e(e,t){this.badge_element=e,this.hidden=null!=t?t:!0,this.hide=a(this.hide,this),this.show=a(this.show,this),this.pauseShow=a(this.pauseShow,this),this.tapElement=a(this.tapElement,this),this.element=i(o("a[rel=popover]",this.badge_element)),this.element||(this.element=this.badge_element.firstChild),this.contents=this.element.getAttribute("data-content"),this.position=this.element.getAttribute("data-badge-popover"),this.uuid=this.badge_element.getAttribute("data-uuid")}return e.prototype.build=function(){return this.buildPopover(),this.attachEvents()},e.prototype.cssPath=function(){var e;return e="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed-fb8e420b24ef78cada1e6895a8cd68e7.css",r("css_url",e),e},e.prototype.insertCSS=function(){var e,t;return 0===o("#altmetric-embed-css").length?(e=this.cssPath(),r("injecting CSS: "+e),t=document.createElement("link"),t.setAttribute("id","altmetric-embed-css"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),n(o("head")).append(t),t.setAttribute("href",e)):void 0},e.prototype.buildPopover=function(){var e,i,a,l,s;return l=o("div.altmetric-popover[data-uuid="+this.uuid+"]"),s=o("div.altmetric-popover-inner[data-uuid="+this.uuid+"]"),l.length>0&&s.length>0?(this.el=l[0],this.inner=s[0]):(r("creating popover for "+this.uuid),i=document.createElement("div"),i.setAttribute("class","altmetric_container"),i.setAttribute("id","_altmetric_container"),e=document.createElement("div"),e.setAttribute("class","altmetric_arrow altmetric-"+this.position),i.appendChild(e),this.inner=document.createElement("div"),i.appendChild(this.inner),this.el=document.createElement("div"),this.el.appendChild(i),document.body.appendChild(this.el)),this.el.setAttribute("class","altmetric-embed altmetric-popover altmetric-"+this.position),this.el.setAttribute("data-uuid",this.uuid),this.el.setAttribute("id","_altmetric_popover_el"),this.el.style.margin="0px",this.inner.setAttribute("id","_altmetric_popover_inner"),this.inner.setAttribute("class","altmetric-embed altmetric-popover-inner altmetric-floating altmetric-"+this.position),this.inner.setAttribute("data-uuid",this.uuid),a=document.createElement("div"),a.setAttribute("class","altmetric-embed altmetric-popover-content altmetric-floating"),a.innerHTML=this.contents,n(this.inner).html(a),t.add(o("close-popover",this.inner),"click",this.hide),n(this.el).show("block").hide()},e.prototype.attachEvents=function(){return t.add(this.element,"mouseover",this.pauseShow),t.add(this.element,"touchstart",this.tapElement),t.add(this.el,"click",this.hide),t.add(this.el,"touchstart",this.hide)},e.prototype.tapElement=function(e){return this.hidden?(e.stop(),this.pauseShow(e)):void 0},e.prototype.pauseShow=function(e){return this.hidden=!1,t.add(this.element,"mouseleave.pause",this.hide),setTimeout(function(t){return function(){return t.show(e)}}(this),300)},e.prototype.show=function(){var e,i,o,a,l,s,c;if(!this.hidden){switch(t.remove(this.element,"mouseleave.pause"),o=n(this.element).offset(),n(this.el).show("block"),i=this.el.offsetWidth,e=this.el.offsetHeight,s=o.top,l=o.left,c=o.width,a=o.height,this.position){case"right":this.el.style.top=s+a/2-e/2+"px",this.el.style.left=l+c+"px";break;case"left":this.el.style.top=s+a/2-e/2+"px",this.el.style.left=l-i+"px";break;case"top":this.el.style.top=s-e+"px",this.el.style.left=l+c/2-i/2+"px";break;case"bottom":this.el.style.top=s+a+"px",this.el.style.left=l+c/2-i/2+"px"}return r("actualHeight: "+e+", actualWidth: "+i+", relTop: "+s+", relLeft: "+l+", relWidth: "+c+", relHeight: "+a+", top: "+this.el.style.top+", left: "+this.el.style.left)}},e.prototype.hide=function(e){return n(e.target).hasClass("altmetric_details")||n(e.target).hasClass("link-to-altmetric-details-tab")?void 0:(e.stop(),n(this.el).hide(),this.hidden=!0)},e}(),_altmetric.exports({Popover:e})}.call(this),function(){var e,t,n;n=_altmetric.log,t=function(e,t){var n;return n=e.images.small,t=Math.min(t,320),n=n.replace(/size=\d+/,"size="+t)},e=function(e,t){var n;return n=e.images.medium,t=Math.min(t,320),n=n.replace(/size=(\d+)/,"size="+t),/style=(\w+)/.test(n)?n=n.replace(/style=(\w+)/,"style=bar"):n+="&style=bar"},_altmetric.exports({donut_url:t,bar_url:e})}.call(this),function(){var e,t,n,i,r,o,a,l,s,c,u,h,d,p,f,g,m,y={}.hasOwnProperty;d=_altmetric.log,a=_altmetric.errorLog,g=_altmetric.qwery,i=_altmetric.bowser,t=_altmetric.bean,n=_altmetric.bonzo,e=function(){function e(e){var t,n;this.element=e,this.setUUID(),this.api_version="v1",this.classes=this.element.className.split(" "),this.altmetric_id=this.getAltmetricId(),this.doi=this.getDoi(),this.arxiv_id=this.getArxivId(),this.pubmed_id=this.getPubmedId(),this.handle_id=this.getHandle(),this.uri=this.getURI(),this.hideNoMentions="true"===(null!=(t=this.getProperty("hide-no-mentions"))?t.toLowerCase():void 0),this.getProperty("hide-less-than")&&(this.hideLessThanScore=parseInt(this.getProperty("hide-less-than"),10)),this.dataBadgeType=this.getProperty("badge-type"),this.detailsTemplate=this.getProperty("template"),this.popoverPosition=this.getProperty("badge-popover"),this.detailsPosition=this.getProperty("badge-details"),this.condensed="true"===(null!=(n=this.getProperty("condensed"))?n.toLowerCase():void 0),this.linkTarget=this.getProperty("link-target")||"_self",this.badge_cdn="https://d1uo4w7k31k5mn.cloudfront.net",this.api_key="3c130976ca2b8f2e88f8377633751ba1",this.hasScore=null==this.getProperty("no-score"),this.cache_breaker=this._getCacheBreaker(),this.badgeSizes=this._getBadgeSizes()}return e.prototype.getClassProperty=function(e){var t,n,i,r;return t="altmetric-"+e,r=function(){var e,i,r,o;for(r=this.classes,o=[],e=0,i=r.length;i>e;e++)n=r[e],0===n.indexOf(t)&&o.push(n.replace(/\s+/g,""));return o}.call(this),i=_altmetric.array_first(r),i?i.substring(t.length+1):void 0},e.prototype.getProperty=function(e){return this.element.getAttribute("data-"+e)||this.getClassProperty(e)},e.prototype.badgeType=function(){return null!=this.dataBadgeType?this.dataBadgeType.match(/\d+/)?"v"+this.dataBadgeType:this.dataBadgeType.match(/(donut|bar|text)/)?this.dataBadgeType.replace("-","_"):"v2":"v2"},e.prototype.badgePath=function(){return this.badgeType().match(/donut/)?"donut":this.badgeType().match(/bar/)?"bar":this.badgeType()},e.prototype.setUUID=function(){var e;return e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},this.uuid=this.element.getAttribute("data-uuid")||e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),this.element.setAttribute("data-uuid",this.uuid)},e.prototype.getDoi=function(){var e;return _altmetric.extractDOI(null!=(e=this.getProperty("doi"))?e.toLowerCase():void 0)||this.getProperty("doi")},e.prototype.getArxivId=function(){var e,t;return null!=(e=this.getProperty("arxiv-id"))&&null!=(t=e.match(/([^\:]*)$/g))?t[0]:void 0},e.prototype.getAltmetricId=function(){return this.getProperty("altmetric-id")},e.prototype.getPubmedId=function(){return this.getProperty("pmid")},e.prototype.getHandle=function(){var e;return null!=(e=this.getProperty("handle"))?e.toLowerCase():void 0},e.prototype.getURI=function(){return this.getProperty("uri")},e.prototype.badgeId=function(){var e;return e=this.altmetric_id||this.doi||this.arxiv_id||this.pubmed_id||this.handle_id||this.uri,e?e:this.doi=_altmetric.findDOI(void 0)},e.prototype.insertPlaceholder=function(){var e,t,n,i,r,o;return i=document.createElement("a"),o=this.getBadgeWidth(),n=this.getBadgeHeight(),e=this.badgePath(),this.shouldShowPlaceholder()&&(i.style.cursor="pointer",i.style.display="inline-block","text"===this.badgeType()?i.innerHTML="?":(i.style.backgroundImage=this.getBackgroundImage(o,e),i.style.width=o+"px",i.style.height=n+"px")),t="http://www.altmetric.com/details.php?domain="+document.domain+"&doi="+this.doi,this.detailsTemplate&&(t+="&template="+this.detailsTemplate),i.setAttribute("href",t),i.setAttribute("target",this.linkTarget),i.appendChild(document.createTextNode(" ")),r=document.createElement("div"),r.appendChild(i),this.element.innerHTML=r.innerHTML},e.prototype.prepareBadge=function(){return this.shouldShowPlaceholder()&&this.insertPlaceholder(),this.fetchData()},e.prototype.shouldShowPlaceholder=function(){return!this.hideNoMentions&&!this.hideLessThanScore},e.prototype.apiCall=function(){return this.altmetric_id?"id/"+this.altmetric_id:this.doi?"doi/"+this.doi:this.arxiv_id?"arxiv/"+this.arxiv_id:this.pubmed_id?"pmid/"+this.pubmed_id:this.handle_id?"handle/"+this.handle_id:this.uri?"uri/"+encodeURIComponent(this.uri):void 0},e.prototype.fetchData=function(){var e,t;return t="https://api.altmetric.com/"+this.api_version+"/"+this.apiCall()+"?callback=_altmetric.embed_callback&domain="+document.domain+"&key="+this.api_key+"&"+this.cache_breaker,e=document.createElement("script"),e.setAttribute("type","text/javascript"),e.onerror=function(e){return function(t){return d("Error fetching JSONP details for "+e.badgeId()),d(t),e.clear()}}(this),document.body.appendChild(e),e.setAttribute("src",t)},e.prototype.clear=function(){return this.shouldShowPlaceholder()?this.insertPlaceholder():this.hide()},e.prototype.hide=function(){return n(this.element).addClass("altmetric-hidden"),t.fire(this.element,"altmetric:hide"),this.element.innerHTML=""},e.prototype.renderBadge=function(e){var t,n,i;return this.altmetric_info=e,this.score=Math.ceil(this.altmetric_info.score),this.altmetric_id=this.altmetric_info.altmetric_id,this.altmetric_link="http://www.altmetric.com/details.php?domain="+document.domain+"&citation_id="+this.altmetric_id,this.hasScore||(this.altmetric_link+="&no_score=true"),this.detailsTemplate&&(this.altmetric_link+="&template="+this.detailsTemplate),i="badge",n=this.getBadgeInfo(),this.popoverPosition?(n.contents=this.prepareViewContent(!0),n.position=this.popoverPosition,i="badge_with_popover"):this.detailsPosition&&(n.contents=this.prepareViewContent(!1),n.position=this.detailsPosition,i="badge_with_details"),t=HandlebarsTemplates[i](n),this.scoreGreaterThanThreshold()?(this.show(t),this.renderPopover()):this.clear()},e.prototype.scoreGreaterThanThreshold=function(){return this.hideLessThanScore?this.score>=this.hideLessThanScore:!0},e.prototype.show=function(e){return this.element.innerHTML=e,n(this.element).removeClass("altmetric-hidden"),t.fire(this.element,"altmetric:show")},e.prototype.getBadgeInfo=function(){return{link:this.altmetric_link,show_img:"text"!==this.badgeType(),img_width:this.getBadgeWidth()+"px",img_height:this.getBadgeHeight()+"px",img_src:this.imageURL(),score:this.score,alt_text:"Article has an altmetric score of "+this.score,linkTarget:this.linkTarget,legendStyle:this.getLegendStyle()}},e.prototype.getLegendStyle=function(){return this.condensed?"altmetric-condensed-legend":"altmetric-normal-legend"},e.prototype.getBadgeWidth=function(){return this.badgeSizes[this.badgeType()].width
},e.prototype.getBadgeHeight=function(){return this.badgeSizes[this.badgeType()].height},e.prototype.getBackgroundImage=function(e,t){return this.hasCustomisableImage(t)?"url(https://altmetric-badges.a.ssl.fastly.net/?size="+e+"&score=?&types=????????&style="+t+")":"url("+this.badge_cdn+"/"+t+"/0.png)"},e.prototype.hasCustomisableImage=function(e){return"donut"===e||"bar"===e},e.prototype.renderPopover=function(){return this.popover=new _altmetric.Popover(this.element),this.popover.insertCSS(),this.popoverPosition&&this.shouldRenderPopover()?this.popover.build():void 0},e.prototype.shouldRenderPopover=function(){return!i.msie||i.msie&&i.version>7},e.prototype.prepareViewContent=function(e){return this.altmetric_info.link=this.altmetric_link,this.altmetric_info.popover=e,this.altmetric_info.linkTarget=this.linkTarget,this.altmetric_info.condensedLegend=this.condensed,this.altmetric_info.readerVisibility={visible:!0},this._setReadersCountersVisibility(this.altmetric_info),HandlebarsTemplates.legend(this.altmetric_info)},e.prototype._setReadersCountersVisibility=function(e){var t,n,i,r;if(0===e.readers_count)return e.readerVisibility.visible=!1;n=e.readers,i=[];for(t in n)r=n[t],i.push(e.readerVisibility[t]=r>0);return i},e.prototype._getCacheBreaker=function(){var e;return e=new Date,"cache_until="+e.getHours()+"-"+e.getDate()},e.prototype._getBadgeSizes=function(){return{v1:{width:"110",height:"20"},v2:{width:"88",height:"18"},v3:{width:"99",height:"18"},v4:{width:"85",height:"15"},donut:{width:"64",height:"64"},medium_donut:{width:"120",height:"120"},large_donut:{width:"180",height:"180"},bar:{width:"100",height:"15"},medium_bar:{width:"120",height:"18"},large_bar:{width:"180",height:"27"},text:{width:"110",height:"20"}}},e.prototype.imageURL=function(){var e;return e="donut"===this.badgePath()?_altmetric.donut_url(this.altmetric_info,2*this.badgeSizes[this.badgeType()].width):"bar"===this.badgePath()?_altmetric.bar_url(this.altmetric_info,2*this.badgeSizes[this.badgeType()].width):this.badge_cdn+"/"+this.badgePath()+"/"+this.score+".png",this.hasScore||(e=e.replace(/score=[0-9\?]+/,"score=")),e},e}(),r=function(e){var t;try{return m(e)}catch(n){return t=n,p(t)}},o=function(){var e;try{return f()}catch(t){return e=t,p(e)}},p=function(e){return a(e.message||e.description),_altmetric.bugsnag.notifyException(e)},u=function(e){var t,n;return[e.altmetric_id,e.pmid,e.arxiv_id,e.uri,null!=(t=e.handle)?t.toLowerCase():void 0,null!=(n=e.doi)?n.toLowerCase():void 0]},h=function(e){var t,n,i,r,o,a,l,s;for(r=u(e),a=[],n=0,o=r.length;o>n;n++)if(i=r[n],i&&_altmetric.badges.hasOwnProperty(i)){l=_altmetric.badges[i];for(s in l)y.call(l,s)&&(t=l[s],a.push(t))}return 0===a.length&&d("No matching badges for "+r),a},m=function(e){var t,n,i,r,o;for(r=h(e),o=[],n=0,i=r.length;i>n;n++)t=r[n],o.push(t.renderBadge(e));return o},c=function(){return g(".altmetric-embed:not(.altmetric-popover):not(.altmetric-popover-inner):not(.altmetric-popover-content)")},l=function(){var t,n,i,r,o;for(r=c(),o=[],n=0,i=r.length;i>n;n++)t=r[n],o.push(new e(t));return o},s=function(){var e,t,n,i,r;for(i=l(),r=[],t=0,n=i.length;n>t;t++)e=i[t],null!=e.badgeId()&&r.push(e);return r},f=function(){var e,t,n,i,r,o,a,l,c;for(t=s(),i=0,o=t.length;o>i;i++)e=t[i],(n=_altmetric.badges)[l=e.badgeId()]||(n[l]={}),_altmetric.badges[e.badgeId()][e.uuid]=e;for(c=[],r=0,a=t.length;a>r;r++)e=t[r],c.push(e.prepareBadge());return c},_altmetric.exports({Badge:e,embed_init:o,badges:{},embed_callback:r})}.call(this),!function(e,t){"undefined"!=typeof module?module.exports=t():_altmetric[e]=t()}("domready",function(e){function t(e){for(p=1;e=i.shift();)e()}var n,i=[],r=!1,o=document,a=o.documentElement,l=a.doScroll,s="DOMContentLoaded",c="addEventListener",u="onreadystatechange",h="readyState",d=l?/^loaded|^c/:/^loaded|c/,p=d.test(o[h]);return o[c]&&o[c](s,n=function(){o.removeEventListener(s,n,r),t()},r),l&&o.attachEvent(u,n=function(){/^c/.test(o[h])&&(o.detachEvent(u,n),t())}),e=l?function(t){self!=top?p?t():i.push(t):function(){try{a.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){p?e():i.push(e)}}),function(e){var t=window.Bugsnag;window.Bugsnag=e(window,document,navigator,t)}(function(e,t,n,i){function r(t){var n=e.console;void 0!==n&&void 0!==n.log&&n.log("[Bugsnag] "+t)}function o(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=i&&null!=e[i]){var r=t?t+"["+i+"]":i,a=e[i];n.push("object"==typeof a?o(a,r):encodeURIComponent(r)+"="+encodeURIComponent(a))}return n.join("&")}function a(e,t){if(null==t)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{e[n]=t[n].constructor===Object?a(e[n],t[n]):t[n]}catch(i){e[n]=t[n]}return e}function l(e,t){if(_.testRequest)_.testRequest(e,t);else{var n=new Image;n.src=e+"?"+o(t)+"&ct=img&cb="+(new Date).getTime()}}function s(e){for(var t={},n=/^data\-([\w\-]+)$/,i=e.attributes,r=0;r<i.length;r++){var o=i[r];if(n.test(o.nodeName)){var a=o.nodeName.match(n)[1];t[a]=o.nodeValue}}return t}function c(e,t){v=v||s(P);var n=void 0!==_[e]?_[e]:v[e.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:t}function u(e){return null!=e&&e.match(w)?!0:(r("Invalid API key '"+e+"'"),!1)}function h(t,i){var r=c("apiKey");if(u(r)){var o=c("releaseStage"),s=c("notifyReleaseStages");if(s){for(var h=!1,d=0;d<s.length;d++)if(o===s[d]){h=!0;break}if(!h)return}var p=a(c("metaData"),i),f=_.beforeNotify;if("function"==typeof f){var g=f(t,p);if(g===!1)return}var m=e.location;l(c("endpoint")||T,{notifierVersion:C,apiKey:r,projectRoot:c("projectRoot")||m.protocol+"//"+m.host,context:c("context")||m.pathname,userId:c("userId"),metaData:p,releaseStage:o,url:e.location.href,userAgent:n.userAgent,language:n.language||n.userLanguage,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber})}}function d(){var e,t=10,n="[anonymous]";try{throw new Error("")}catch(i){e=p(i)}if(!e){for(var r=[],o=arguments.callee.caller.caller;o&&r.length<t;){var a=k.test(o.toString())?RegExp.$1||n:n;r.push(a),o=o.caller}e=r.join("\n")}return e}function p(e){return e.stack||e.backtrace||e.stacktrace}function f(){var e=c("metrics"),t=c("apiKey");if((e===!0||"true"===e)&&u(t)){var n="bugsnag_"+t,i=b(n);null==i&&(i=m(),y(n,i,1e3,!0)),l(c("metricsEndpoint")||E,{userId:i,apiKey:t})}}function g(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(){return g()+g()+"-"+g()+"-"+g()+"-"+g()+"-"+g()+g()+g()}function y(n,i,r,o){var a="",l="";if(r){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3),l="; expires="+s.toGMTString()}if(o){var c=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";a=u?"; domain=."+u:""}t.cookie=n+"="+encodeURIComponent(i)+l+"; path=/"+a}function b(e){var n=t.cookie.match(e+"=([^$;]+)");return n?decodeURIComponent(n[1]):null}var _={};_.noConflict=function(){return e.Bugsnag=i,_},_.notifyException=function(e,t,n){"string"!=typeof t&&(n=t),h({name:t||e.name,message:e.message||e.description,stacktrace:p(e)||d(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},n)},_.notify=function(e,t,n){h({name:e,message:t,stacktrace:d()},n)},_._onerror=e.onerror,e.onerror=function(e,t,n,i,o){var a=c("autoNotify",!0);a&&"Script error."===e&&""===t&&0===n&&(r("Error on cross-domain script, couldn't notify Bugsnag."),a=!1),a&&h({name:"window.onerror",message:e,file:t,lineNumber:n,columnNumber:i,stacktrace:o&&p(o)}),_._onerror&&_._onerror(e,t,n)};var v,w=/^[0-9a-f]{32}$/i,k=/function\s*([\w\-$]+)?\s*\(/i,x="https://notify.bugsnag.com/",T=x+"js",E=x+"metrics",C="1.0.10",S=t.getElementsByTagName("script"),P=S[S.length-1];return f(),_}),_altmetric.bugsnag=Bugsnag.noConflict(),_altmetric.bugsnag.autoNotify=!1,_altmetric.bugsnag.releaseStage="production",_altmetric.bugsnag.notifyReleaseStages=["production","staging"],_altmetric.bugsnag.apiKey="daca05de9b5d741310b8b3308bdda3df",_altmetric_embed_init=_altmetric.embed_init,_altmetric.domready(function(){_altmetric.embed_init()});